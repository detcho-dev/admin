<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin Dashboard - Books</title>
    <link rel="stylesheet" href="index.css" />
    <script type="module" src="index.js"></script>
  </head>
  <body>
    <!-- Login Screen -->
    <div id="login-screen" class="screen">
      <div class="login-container">
        <h1>Admin Dashboard</h1>
        <input type="email" id="email" placeholder="Email" />
        <input type="password" id="password" placeholder="Password" />
        <button id="login-btn">Login</button>
        <p id="login-error" style="color: #ff4444; margin-top: 15px; display: none"></p>
      </div>
    </div>

    <!-- Dashboard -->
    <div id="dashboard" class="screen" style="display: none">
      <header>
        <h1>Books Management</h1>
        <button id="logout-btn">Logout</button>
      </header>

      <div class="controls">
        <input type="text" id="search" placeholder="Search all fields..." />
        <button id="new-project-btn">New Book</button>
        <button id="refresh-btn">Refresh</button>
      </div>

      <table id="projects-table">
        <thead>
          <tr>
            <th>ID</th>
            <th>Title</th>
            <th>Cover</th>
            <th>Author</th>
            <th>Categories</th>
            <th>Section</th>
            <th>Reads</th>
          </tr>
        </thead>
        <tbody id="table-body">
          <!-- Data will be loaded dynamically -->
        </tbody>
      </table>

      <div id="no-results" style="display: none; text-align: center; padding: 20px; color: #e0e0e0">
        <p>No books found.</p>
        <button id="create-with-id-btn" style="display: none; margin-top: 15px; padding: 8px 16px; background: #4caf50; color: white; border: none; border-radius: 4px; cursor: pointer;">Create book with this ID</button>
      </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" style="
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: #333;
      color: white;
      padding: 12px 20px;
      border-radius: 6px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.3);
      z-index: 10000;
      transform: translateX(200%);
      transition: transform 0.3s ease;
    "></div>

    <!-- New Project Modal -->
    <div id="new-project-modal" class="modal">
      <div class="modal-content">
        <span class="close" id="close-new-modal">&times;</span>
        <h2>New Book</h2>
        <input type="text" id="new-id" placeholder="Document ID (Custom)" required />
        <input type="text" id="new-customer" placeholder="Title" required />
        <input type="url" id="new-project-name" placeholder="Cover URL" required />
        <select id="new-status" required>
          <option value="member">Member</option>
          <option value="reader">Reader</option>
        </select>
        <input type="number" id="new-deployment" placeholder="Reads" required />
        <input type="text" id="new-support-end" placeholder="Categories" required />
        <input type="url" id="new-url" placeholder="Book URL" required />
        <button id="add-project-btn">Add Book</button>
      </div>
    </div>

    <!-- Edit Project Modal -->
    <div id="edit-project-modal" class="modal">
      <div class="modal-content">
        <span class="close" id="close-edit-modal">&times;</span>
        <h2>Edit Project</h2>
        <input type="text" id="edit-id" readonly />
        <input type="text" id="edit-customer" placeholder="Title" required />
        <input type="url" id="edit-project-name" placeholder="Cover URL" required />
        <select id="edit-status" required>
          <option value="member">Member</option>
          <option value="reader">Reader</option>
        </select>
        <input type="number" id="edit-deployment" placeholder="Reads" required />
        <input type="text" id="edit-support-end" placeholder="Categories" required />
        <input type="url" id="edit-url" placeholder="Book URL" required />
        <button id="update-project-btn">Save Changes</button>
      </div>
    </div>
  </body>
</html>
